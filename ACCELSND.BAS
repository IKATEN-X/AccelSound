5 'SAVE"ACCELSND.BAS
10 CLS
20 _TURBOON
30 DEFINT A-Z
40 DIM L(96),H(96)
45 PP=0
50 FOR I=0 TO 12*8-1:READ L$,H$:L(I)=VAL("&H"+L$):H(I)=VAL("&H"+H$):NEXT I
60 D$="device/analog/in":GOSUB170:A=R
70 D$="device/accel/x":GOSUB170:X=R
80 D$="device/accel/y":GOSUB170:Y=R
90 D$="device/accel/z":GOSUB170:Z=R
95 IF PAD(4) THEN N=&B10000111 ELSE N=&B10001000
96 N2= 32*(A/4096):SOUND 6,N2:SOUND 7,N
100 P=SQR(X*X+Y*Y+Z*Z)
105 'P2=ABS(PP-P)-3000:IF P2<0 THEN P2=0
110 VV=P-1100:IF(VV<0)THEN VV=0
120 V= 15*(VV/1000):IF(V>15)THEN V=15 ELSE IF(V<0) THEN V=0
130 S=96*(A/4096):SOUND 0,L(S):SOUND 1,H(S):SOUND 8,V
140 LOCATE 0,0:PRINT P-PP
145 PP=P
150 IF STRIG(0) THEN END
160 GOTO 60
170 OUT8,&HE0:OUT8,1:OUT8,&H53
180 OUT8,&HC0:L=LEN(D$):OUT8,L:FORI=1TOL:OUT8,ASC(MID$(D$,I,1)):NEXTI:OUT8,0:R=INP(8)
190 OUT8,&HE0:OUT8,1:OUT8,1:OUT8,&H80
200 R=INP(8):P=VARPTR(R):POKEP,INP(8):POKEP+1,INP(8)
210 RETURN
300 '
310 DATA 5D,0D,9C,0C,E7,0B,3C,0B,9B,0A,02,0A,73,09,EB,08,6B,08,F2,07,80,07,14,07
320 DATA AF,06,4E,06,F4,05,9E,05,4E,05,01,05,BA,04,76,04,36,04,F9,03,C0,03,8A,03
330 DATA 57,03,27,03,FA,02,CF,02,A7,02,81,02,5D,02,3B,02,1B,02,FD,01,01,00,C5,01
340 DATA AC,01,94,01,7D,01,68,01,53,01,40,01,2E,01,1D,01,0D,01,FE,00,F0,00,E3,00
350 DATA D6,00,CA,00,BE,00,B4,00,AA,00,A0,00,97,00,8F,00,87,00,7F,00,78,00,71,00
360 DATA 6B,00,65,00,5F,00,5A,00,55,00,50,00,4C,00,47,00,43,00,40,00,3C,00,39,00
370 DATA 35,00,32,00,30,00,2D,00,2A,00,28,00,26,00,24,00,22,00,20,00,1E,00,1C,00
380 DATA 1B,00,19,00,18,00,16,00,15,00,14,00,13,00,12,00,11,00,10,00,0F,00,0E,00
